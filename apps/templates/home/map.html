{% extends 'layouts/base.html' %}

{% block title %} Maps {% endblock title %}

{% block content %}

    <!-- Header -->
    <div class="header bg-primary pb-6">
      <div class="container-fluid">
        <div class="header-body">
          <div class="row align-items-center py-4">
            <div class="col-lg-6 col-7">
              <h6 class="h2 text-white d-inline-block mb-0">Cadastrar usuários</h6>
              <nav aria-label="breadcrumb" class="d-none d-md-inline-block ml-md-4">
                <ol class="breadcrumb breadcrumb-links breadcrumb-dark">
                  <li class="breadcrumb-item"><a href="#"><i class="fas fa-home"></i></a></li>
                  <li class="breadcrumb-item"><a href="#">Usuários</a></li>
                  <li class="breadcrumb-item active" aria-current="page">Cadastrar</li>
                </ol>
              </nav>
            </div>
            <div class="col-lg-6 col-5 text-right">
              <a href="#" class="btn btn-sm btn-neutral">New</a>
              <a href="#" class="btn btn-sm btn-neutral">Filters</a>
            </div>
          </div>
        </div>
      </div>
    </div>
    <!-- Page content -->
    <div class="container-fluid mt--6">
      <div class="row">
        <div class="col">
          <div class="card border-0">
            
            <form class="myform" id="add-account-form">
              <h3>Cadastro</h3>
      
              <label for="username">Username</label>
              <input type="text" placeholder="Email or Phone" id="username">
      
              <label for="password">Password</label>
              <input type="password" placeholder="Password" id="password">
      
              <button>Salvar</button>
              
          </form>
          <div style="height:30%"></div>

          <style media="screen">
            *,
      *:before,
      *:after{
          padding: 0;
          margin: 0;
          box-sizing: border-box;
      }
      
      .background{
          width: 430px;
          height: 520px;
          position: absolute;
          transform: translate(-50%,-50%);
          left: 50%;
          top: 50%;
      }
      .background .shape{
          height: 200px;
          width: 200px;
          position: absolute;
          border-radius: 50%;
      }
      .shape:first-child{
          background: linear-gradient(
              #1845ad,
              #23a2f6
          );
          left: -80px;
          top: -80px;
      }
      .shape:last-child{
          background: linear-gradient(
              to right,
              #ff512f,
              #f09819
          );
          right: -30px;
          bottom: -80px;
      }
      .myform {
    height: 520px;
    width: 400px;
    background-color: rgba(255,255,255,0.13);
    /* transform: translate(-50%,-50%); */
    top: 50%;
    left: 45%;
    border-radius: 10px;
    backdrop-filter: blur(10px);
    border: 2px solid rgba(255,255,255,0.1);
    box-shadow: 0 0 40px rgb(8 7 16 / 60%);
    padding: 50px 35px;
    display: table;
    margin-left: 32%;
}

@media only screen and (max-width: 600px) {
  .myform {
    height: 523px;
    width: 348px;
    background-color: rgba(255,255,255,0.13);
    /* transform: translate(-50%,-50%); */
    top: 50%;
    left: 45%;
    border-radius: 10px;
    backdrop-filter: blur(10px);
    border: 2px solid rgba(255,255,255,0.1);
    box-shadow: 0 0 40px rgb(8 7 16 / 60%);
    padding: 50px 35px;
    display: grid;
    margin-left: 3%;
}
}
      form *{
          font-family: 'Poppins',sans-serif;
          color: #ffffff;
          letter-spacing: 0.5px;
          outline: none;
          border: none;
      }
      form h3{
          font-size: 32px;
          font-weight: 500;
          line-height: 42px;
          text-align: center;
      }
      
      label{
          display: block;
          margin-top: 30px;
          font-size: 16px;
          font-weight: 500;
      }
      input{
          display: block;
          height: 50px;
          width: 100%;
          background-color: rgba(255,255,255,0.07);
          border-radius: 3px;
          padding: 0 10px;
          margin-top: 8px;
          font-size: 14px;
          font-weight: 300;
      }
      ::placeholder{
          color: #e5e5e5;
      }
      button{
          margin-top: 50px;
          width: 100%;
          background-color: #ffffff;
          color: #080710;
          padding: 15px 0;
          font-size: 18px;
          font-weight: 600;
          border-radius: 5px;
          cursor: pointer;
      }
      .card.border-0 {
        background:#5e72e4;
        height: 600px;
      } </style>
      <script>
        const form = document.querySelector("#add-account-form");
      form.addEventListener("submit", function(e) {
          e.preventDefault();
          var username = document.querySelector("#username").value;
          var password = document.querySelector("#password").value;
          var new_account = { "new_username": username, "new_password": password };
          var xhr = new XMLHttpRequest();
          xhr.open("POST", "/add_account");
          xhr.setRequestHeader("Content-Type", "application/json;charset=UTF-8");
          xhr.send(JSON.stringify(new_account));
          xhr.onload = function() {
              if (xhr.status === 200) {
                  alert('Conta adicionada com sucesso')
                  console.log("Account added successfully");
              } else {
                  alert('Erro ao adicionar conta')
                  console.log("Error adding account: " + xhr.response);
              }
          };
      });
      
      
      </script>
      
            
          </div>
        </div>
      </div>

      {% include "includes/footer.html" %}
      
    </div>

{% endblock content %}

<!-- Specific JS goes HERE --> 
{% block javascripts %}



{% endblock javascripts %}
